"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.timeoutPromise = timeoutPromise;

function delayPromise(ms) {
  return new Promise(resolve => {
    setTimeout(resolve, ms);
  });
}
/**
 * when promise is timeput, reject promise
 * @param {Promise} promise
 * @param {number} ms
 * @param {string} reason
 * @returns {Promise}
 */


async function timeoutPromise(promise, ms, reason = 'Operation') {
  // eslint-disable-next-line promise/prefer-await-to-then
  const timeout = delayPromise(ms).then(() => {
    throw new Error(`${reason} timed out after ${ms}ms`);
  });
  return Promise.race([promise, timeout]);
}